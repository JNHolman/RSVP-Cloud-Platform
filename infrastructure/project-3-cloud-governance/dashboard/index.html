<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>RSVP Cloud Governance Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
        background: #020617;
        color: #e5e7eb;
      }

      #root {
        min-height: 100vh;
      }

      .fade-in {
        opacity: 0;
        transform: translateY(8px);
        animation: fadeInUp 0.5s ease-out forwards;
      }

      .fade-in-delayed {
        opacity: 0;
        transform: translateY(8px);
        animation: fadeInUp 0.6s ease-out forwards;
        animation-delay: 0.07s;
      }

      @keyframes fadeInUp {
        0% {
          opacity: 0;
          transform: translateY(8px);
        }
        100% {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .card-hover {
        transition: transform 0.18s ease-out, box-shadow 0.18s ease-out,
          border-color 0.18s ease-out, background-color 0.18s ease-out;
      }

      .card-hover:hover {
        transform: translateY(-2px);
        box-shadow: 0 18px 40px rgba(15, 23, 42, 0.8);
        border-color: #1f2937;
        background-color: #020617;
      }

      .badge {
        display: inline-flex;
        align-items: center;
        border-radius: 999px;
        padding: 0.15rem 0.55rem;
        font-size: 0.7rem;
        text-transform: uppercase;
        letter-spacing: 0.08em;
      }

      .badge-critical {
        border: 1px solid rgba(248, 113, 113, 0.7);
        background: rgba(248, 113, 113, 0.16);
        color: #fecaca;
      }

      .badge-high {
        border: 1px solid rgba(249, 115, 22, 0.7);
        background: rgba(251, 146, 60, 0.16);
        color: #fed7aa;
      }

      .badge-medium {
        border: 1px solid rgba(250, 204, 21, 0.7);
        background: rgba(250, 250, 150, 0.12);
        color: #fef9c3;
      }

      .badge-low {
        border: 1px solid rgba(52, 211, 153, 0.7);
        background: rgba(34, 197, 94, 0.16);
        color: #bbf7d0;
      }

      .badge-unknown {
        border: 1px solid rgba(148, 163, 184, 0.8);
        background: rgba(30, 64, 175, 0.16);
        color: #e5e7eb;
      }

      .pill-green {
        display: inline-flex;
        align-items: center;
        border-radius: 999px;
        padding: 0.18rem 0.55rem;
        font-size: 0.75rem;
        background: linear-gradient(
          to right,
          rgba(34, 197, 94, 0.12),
          rgba(22, 163, 74, 0.28)
        );
        color: #bbf7d0;
        border: 1px solid rgba(34, 197, 94, 0.5);
      }

      .pill-green-dot {
        display: inline-block;
        width: 7px;
        height: 7px;
        border-radius: 999px;
        background-color: #22c55e;
        margin-right: 0.45rem;
        box-shadow: 0 0 0 4px rgba(22, 163, 74, 0.45);
      }

      .modal-backdrop {
        position: fixed;
        inset: 0;
        background: rgba(15, 23, 42, 0.75);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 40;
      }

      .modal-card {
        background: #020617;
        border-radius: 1.2rem;
        padding: 1.5rem 1.75rem;
        max-width: 720px;
        width: 100%;
        border: 1px solid #1f2937;
        box-shadow: 0 22px 60px rgba(15, 23, 42, 1);
      }

      .timeline {
        position: relative;
        padding-left: 1.25rem;
        margin: 0;
        list-style: none;
      }

      .timeline::before {
        content: "";
        position: absolute;
        left: 4px;
        top: 0.2rem;
        bottom: 0.2rem;
        width: 2px;
        background: linear-gradient(to bottom, #38bdf8, #22c55e);
        opacity: 0.7;
      }

      .timeline-item {
        position: relative;
        margin-bottom: 0.75rem;
      }

      .timeline-bullet {
        position: absolute;
        left: -0.1rem;
        top: 0.25rem;
        width: 8px;
        height: 8px;
        border-radius: 999px;
        background: #38bdf8;
        box-shadow: 0 0 0 4px rgba(56, 189, 248, 0.3);
      }

      .pagination {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.78rem;
        color: #9ca3af;
        margin-top: 0.85rem;
      }

      .pagination button {
        background: #020617;
        border-radius: 999px;
        border: 1px solid #1f2937;
        color: #e5e7eb;
        padding: 0.25rem 0.75rem;
        font-size: 0.78rem;
        cursor: pointer;
        transition: background 0.15s ease-out, transform 0.15s ease-out;
      }

      .pagination button:hover:not(:disabled) {
        background: #111827;
        transform: translateY(-1px);
      }

      .pagination button:disabled {
        opacity: 0.35;
        cursor: default;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>

    <!-- React + ReactDOM from CDN -->
    <script
      src="https://unpkg.com/react@18/umd/react.development.js"
      crossorigin
    ></script>
    <script
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
      crossorigin
    ></script>
    <!-- Babel so we can use JSX directly in the browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
      function getSeverityBadgeClass(severityRaw) {
        if (!severityRaw) return "badge badge-unknown";
        const s = severityRaw.toString().toLowerCase();
        if (s.includes("critical")) return "badge badge-critical";
        if (s.includes("high")) return "badge badge-high";
        if (s.includes("medium")) return "badge badge-medium";
        if (s.includes("low")) return "badge badge-low";
        return "badge badge-unknown";
      }

      // Sample data for portfolio UI (no live fetch needed)
      const SAMPLE_INCIDENTS = [
        {
          finding_id: "gd-1-exposed-ssh",
          aiSummary: {
            severity: "High",
            summary: "Unusual SSH activity detected from an external IP hitting an EC2 instance over port 22.",
            root_cause:
              "Instance exposed directly to the internet with weak security group rules.",
            recommended_remediation:
              "Restrict SSH access to a bastion host or VPN, tighten security groups, and rotate keys.",
            escalation_needed: true,
            first_seen: "2025-11-30 03:12 UTC",
            last_seen: "2025-11-30 03:18 UTC",
            resource: "i-0abc123def456 (bastion-dev)",
          },
        },
        {
          finding_id: "gd-2-s3-public",
          aiSummary: {
            severity: "Medium",
            summary: "S3 bucket with sensitive log files is publicly accessible.",
            root_cause:
              "Bucket policy allowed s3:GetObject to anonymous principals.",
            recommended_remediation:
              "Apply least privilege bucket policy, enable block public access, and re-scan objects.",
            escalation_needed: false,
            first_seen: "2025-12-01 12:10 UTC",
            last_seen: "2025-12-01 12:15 UTC",
            resource: "rsvp-logs-prod",
          },
        },
        {
          finding_id: "gd-3-suspicious-api-calls",
          aiSummary: {
            severity: "Critical",
            summary:
              "Burst of IAM privilege escalation API calls detected from a single access key.",
            root_cause:
              "Compromised IAM access key used to attempt attaching admin policies.",
            recommended_remediation:
              "Immediately revoke the key, review CloudTrail, and enforce MFA and least privilege.",
            escalation_needed: true,
            first_seen: "2025-12-02 08:46 UTC",
            last_seen: "2025-12-02 08:52 UTC",
            resource: "IAM user: ci-deploy-user",
          },
        },
        {
          finding_id: "gd-4-unusual-dns-queries",
          aiSummary: {
            severity: "Low",
            summary:
              "Instance started making DNS queries to domains associated with crypto mining pools.",
            root_cause:
              "Container image with outdated dependencies possibly running unauthorized binary.",
            recommended_remediation:
              "Scan workload for malware, patch base images, and tighten egress rules.",
            escalation_needed: false,
            first_seen: "2025-12-03 11:02 UTC",
            last_seen: "2025-12-03 11:09 UTC",
            resource: "ecs-task/rsvp-api-service",
          },
        },
      ];

      const SAMPLE_COST_REPORTS = [
        {
          report_id: "cost-2025-11-week4",
          period: "Week of Nov 24–30, 2025",
          summary:
            "Biggest spend in this period comes from NAT gateways and data transfer. Right-size two m5.xlarge instances to m5.large and consolidate NAT usage to a single shared AZ per environment.",
        },
        {
          report_id: "cost-2025-12-week1",
          period: "Week of Dec 1–7, 2025",
          summary:
            "Detected idle dev RDS instance and several unattached EBS volumes. Stopping the dev database on nights/weekends and cleaning up unattached volumes would save an estimated $85/month.",
        },
        {
          report_id: "cost-2025-12-week2",
          period: "Week of Dec 8–14, 2025",
          summary:
            "ECR pull costs increased due to large images. Recommend slimming base images and enabling image lifecycle policies to prune unused tags.",
        },
      ];

      function App() {
        const [incidents] = React.useState(SAMPLE_INCIDENTS);
        const [costSummaries] = React.useState(SAMPLE_COST_REPORTS);
        const [incidentPage, setIncidentPage] = React.useState(1);
        const [costPage, setCostPage] = React.useState(1);
        const [selectedIncident, setSelectedIncident] = React.useState(null);

        const INCIDENTS_PER_PAGE = 3;
        const COST_PER_PAGE = 3;

        const totalIncidentPages = Math.max(
          1,
          Math.ceil(incidents.length / INCIDENTS_PER_PAGE)
        );
        const totalCostPages = Math.max(
          1,
          Math.ceil(costSummaries.length / COST_PER_PAGE)
        );

        const pagedIncidents = React.useMemo(() => {
          const start = (incidentPage - 1) * INCIDENTS_PER_PAGE;
          return incidents.slice(start, start + INCIDENTS_PER_PAGE);
        }, [incidents, incidentPage]);

        const pagedCostSummaries = React.useMemo(() => {
          const start = (costPage - 1) * COST_PER_PAGE;
          return costSummaries.slice(start, start + COST_PER_PAGE);
        }, [costSummaries, costPage]);

        return (
          <div
            style={{
              minHeight: "100vh",
              padding: "3rem 1.5rem 4rem",
              background:
                "radial-gradient(circle at top left, #020617 0, #020617 40%, #020617 100%)",
            }}
          >
            <div style={{ maxWidth: "1120px", margin: "0 auto" }}>
              {/* HERO CARD */}
              <div
                className="fade-in card-hover"
                style={{
                  borderRadius: "1.5rem",
                  padding: "2.25rem 2.75rem",
                  background:
                    "radial-gradient(circle at top left, rgba(34,197,94,0.16), transparent 48%), radial-gradient(circle at bottom right, rgba(59,130,246,0.26), #020617 72%)",
                  boxShadow: "0 28px 80px rgba(15,23,42,0.95)",
                  border: "1px solid rgba(148,163,184,0.18)",
                }}
              >
                <div className="pill-green" style={{ marginBottom: "1.25rem" }}>
                  <span className="pill-green-dot" />
                  Deployed with Terraform by Josh
                </div>

                <div style={{ marginBottom: "1.75rem" }}>
                  <h1
                    style={{
                      fontSize: "2.35rem",
                      fontWeight: 700,
                      letterSpacing: "-0.04em",
                      marginBottom: "0.35rem",
                    }}
                  >
                    RSVP Cloud Governance Platform
                  </h1>
                  <p
                    style={{
                      color: "#9ca3af",
                      maxWidth: "640px",
                      fontSize: "0.95rem",
                      lineHeight: 1.6,
                    }}
                  >
                    Multi-account AWS security, logging, and cost governance for
                    real-world workloads. Centralized monitoring, GuardDuty,
                    Config, Security Hub, and AI-driven incident & cost
                    analysis.
                  </p>
                </div>

                <div
                  style={{
                    display: "grid",
                    gridTemplateColumns:
                      "minmax(0,1.2fr) minmax(0,1.1fr)",
                    gap: "2.5rem",
                    marginBottom: "1.75rem",
                  }}
                >
                  <div>
                    <div
                      style={{
                        fontSize: "0.7rem",
                        letterSpacing: "0.22em",
                        color: "#6b7280",
                        marginBottom: "0.6rem",
                      }}
                    >
                      ENVIRONMENT
                    </div>
                    <dl
                      style={{
                        display: "grid",
                        gridTemplateColumns: "auto 1fr",
                        rowGap: "0.4rem",
                        columnGap: "1.1rem",
                        fontSize: "0.88rem",
                      }}
                    >
                      <dt style={{ color: "#9ca3af" }}>Management account</dt>
                      <dd>us-east-1 (AWS Organizations)</dd>

                      <dt style={{ color: "#9ca3af" }}>Security account</dt>
                      <dd>GuardDuty, Security Hub, Config, AI incident Lambda</dd>

                      <dt style={{ color: "#9ca3af" }}>Logging account</dt>
                      <dd>Central CloudTrail, Config logs, S3 archival</dd>

                      <dt style={{ color: "#9ca3af" }}>Workload account</dt>
                      <dd>Projects 1 &amp; 2 (ECS Fargate, EC2, RDS, ALB)</dd>
                    </dl>
                  </div>

                  <div>
                    <div
                      style={{
                        fontSize: "0.7rem",
                        letterSpacing: "0.22em",
                        color: "#6b7280",
                        marginBottom: "0.6rem",
                      }}
                    >
                      GOVERNANCE &amp; AUTOMATION
                    </div>
                    <dl
                      style={{
                        display: "grid",
                        gridTemplateColumns: "auto 1fr",
                        rowGap: "0.4rem",
                        columnGap: "1.1rem",
                        fontSize: "0.88rem",
                      }}
                    >
                      <dt style={{ color: "#9ca3af" }}>Security</dt>
                      <dd>
                        GuardDuty findings &rarr; AI summaries &rarr; SNS
                        escalation.
                      </dd>

                      <dt style={{ color: "#9ca3af" }}>Compliance</dt>
                      <dd>
                        AWS Config rules, centralized CloudTrail, Security Hub
                        baselines.
                      </dd>

                      <dt style={{ color: "#9ca3af" }}>Cost</dt>
                      <dd>
                        Budgets, usage monitoring, AI-generated optimization
                        reports.
                      </dd>

                      <dt style={{ color: "#9ca3af" }}>Observability</dt>
                      <dd>
                        CloudWatch metrics, cross-account dashboards, EventBridge
                        automation.
                      </dd>
                    </dl>
                  </div>
                </div>

                <div
                  style={{
                    display: "flex",
                    flexWrap: "wrap",
                    justifyContent: "space-between",
                    alignItems: "center",
                    gap: "1rem",
                    paddingTop: "0.9rem",
                    borderTop: "1px solid rgba(31,41,55,0.9)",
                  }}
                >
                  <div
                    style={{
                      fontSize: "0.78rem",
                      color: "#9ca3af",
                    }}
                  >
                    Instance:{" "}
                    <span
                      style={{ color: "#e5e7eb", fontWeight: 500 }}
                    >
                      security.automation.internal
                    </span>
                  </div>

                  <div
                    style={{
                      display: "flex",
                      gap: "1.5rem",
                      fontSize: "0.8rem",
                    }}
                  >
                    <div>
                      <div
                        style={{
                          color: "#6b7280",
                          fontSize: "0.7rem",
                          letterSpacing: "0.14em",
                        }}
                      >
                        INCIDENTS ANALYZED
                      </div>
                      <div style={{ fontWeight: 600 }}>
                        {incidents.length}{" "}
                        <span
                          style={{
                            color: "#6b7280",
                            fontWeight: 400,
                          }}
                        >
                          GuardDuty findings
                        </span>
                      </div>
                    </div>
                    <div>
                      <div
                        style={{
                          color: "#6b7280",
                          fontSize: "0.7rem",
                          letterSpacing: "0.14em",
                        }}
                      >
                        COST REPORTS
                      </div>
                      <div style={{ fontWeight: 600 }}>
                        {costSummaries.length}{" "}
                        <span
                          style={{
                            color: "#6b7280",
                            fontWeight: 400,
                          }}
                        >
                          AI summaries
                        </span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              {/* INSIGHTS SECTION */}
              <div className="fade-in-delayed" style={{ marginTop: "3rem" }}>
                {/* Security Insights */}
                <div
                  style={{
                    display: "flex",
                    justifyContent: "space-between",
                    alignItems: "flex-end",
                    marginBottom: "0.75rem",
                  }}
                >
                  <h2
                    style={{
                      fontSize: "1.35rem",
                      fontWeight: 700,
                      letterSpacing: "-0.02em",
                    }}
                  >
                    Recent Security Insights
                  </h2>
                  <span
                    style={{
                      fontSize: "0.75rem",
                      color: "#9ca3af",
                    }}
                  >
                    Showing page {incidentPage} of {totalIncidentPages}
                  </span>
                </div>

                <div
                  style={{
                    display: "grid",
                    gridTemplateColumns:
                      "repeat(auto-fill,minmax(280px,1fr))",
                    gap: "1rem",
                  }}
                >
                  {pagedIncidents.map((inc) => (
                    <IncidentCard
                      key={inc.finding_id}
                      incident={inc}
                      onOpen={() => setSelectedIncident(inc)}
                    />
                  ))}
                </div>
                <div className="pagination">
                  <button
                    onClick={() =>
                      setIncidentPage((p) => Math.max(1, p - 1))
                    }
                    disabled={incidentPage <= 1}
                  >
                    Prev
                  </button>
                  <span>
                    Page {incidentPage} of {totalIncidentPages}
                  </span>
                  <button
                    onClick={() =>
                      setIncidentPage((p) =>
                        Math.min(totalIncidentPages, p + 1)
                      )
                    }
                    disabled={incidentPage >= totalIncidentPages}
                  >
                    Next
                  </button>
                </div>

                {/* Cost Insights */}
                <div
                  style={{
                    display: "flex",
                    justifyContent: "space-between",
                    alignItems: "flex-end",
                    marginTop: "2.75rem",
                    marginBottom: "0.75rem",
                  }}
                >
                  <h2
                    style={{
                      fontSize: "1.35rem",
                      fontWeight: 700,
                      letterSpacing: "-0.02em",
                    }}
                  >
                    Cost Optimization Insights
                  </h2>
                  <span
                    style={{
                      fontSize: "0.75rem",
                      color: "#9ca3af",
                    }}
                  >
                    Showing page {costPage} of {totalCostPages}
                  </span>
                </div>

                <div
                  style={{
                    display: "grid",
                    gridTemplateColumns:
                      "repeat(auto-fill,minmax(280px,1fr))",
                    gap: "1rem",
                  }}
                >
                  {pagedCostSummaries.map((report) => (
                    <CostCard key={report.report_id} report={report} />
                  ))}
                </div>
                <div className="pagination">
                  <button
                    onClick={() => setCostPage((p) => Math.max(1, p - 1))}
                    disabled={costPage <= 1}
                  >
                    Prev
                  </button>
                  <span>
                    Page {costPage} of {totalCostPages}
                  </span>
                  <button
                    onClick={() =>
                      setCostPage((p) =>
                        Math.min(totalCostPages, p + 1)
                      )
                    }
                    disabled={costPage >= totalCostPages}
                  >
                    Next
                  </button>
                </div>
              </div>

              {/* MODAL */}
              {selectedIncident && (
                <IncidentModal
                  incident={selectedIncident}
                  onClose={() => setSelectedIncident(null)}
                />
              )}
            </div>
          </div>
        );
      }

      function IncidentCard({ incident, onOpen }) {
        const { finding_id, aiSummary } = incident;
        const severity = (aiSummary.severity || "Unknown").toString();
        const summaryText =
          aiSummary.summary ||
          aiSummary.root_cause ||
          "No AI summary available for this finding.";
        const badgeClass = getSeverityBadgeClass(severity);

        return (
          <button
            onClick={onOpen}
            className="card-hover"
            style={{
              textAlign: "left",
              borderRadius: "0.9rem",
              padding: "1rem",
              border: "1px solid #1f2937",
              backgroundColor: "#020617",
              cursor: "pointer",
            }}
          >
            <div
              style={{
                display: "flex",
                justifyContent: "space-between",
                marginBottom: "0.4rem",
                alignItems: "center",
                gap: "0.5rem",
              }}
            >
              <div
                style={{
                  fontSize: "0.85rem",
                  fontWeight: 600,
                  color: "#e5e7eb",
                  overflow: "hidden",
                  textOverflow: "ellipsis",
                  whiteSpace: "nowrap",
                }}
                title={finding_id}
              >
                {finding_id}
              </div>
              <span className={badgeClass}>{severity}</span>
            </div>
            <p
              style={{
                fontSize: "0.85rem",
                color: "#9ca3af",
                marginBottom: 0,
              }}
            >
              {summaryText}
            </p>
          </button>
        );
      }

      function CostCard({ report }) {
        return (
          <div
            className="card-hover"
            style={{
              borderRadius: "0.9rem",
              padding: "1rem",
              border: "1px solid #1f2937",
              backgroundColor: "#020617",
            }}
          >
            <div
              style={{
                display: "flex",
                justifyContent: "space-between",
                marginBottom: "0.35rem",
              }}
            >
              <span
                style={{
                  fontSize: "0.9rem",
                  fontWeight: 600,
                }}
              >
                Report #{report.report_id}
              </span>
              {report.period && (
                <span
                  style={{
                    fontSize: "0.75rem",
                    color: "#9ca3af",
                  }}
                >
                  {report.period}
                </span>
              )}
            </div>
            <p
              style={{
                fontSize: "0.85rem",
                color: "#9ca3af",
                marginBottom: 0,
              }}
            >
              {report.summary || "(no summary provided)"}
            </p>
          </div>
        );
      }

      function IncidentModal({ incident, onClose }) {
        const { finding_id, aiSummary } = incident;
        const severity = (aiSummary.severity || "Unknown").toString();
        const badgeClass = getSeverityBadgeClass(severity);

        const timeline = [];

        if (aiSummary.first_seen || aiSummary.last_seen) {
          timeline.push({
            label: "First seen",
            value: aiSummary.first_seen || "N/A",
          });
          timeline.push({
            label: "Last seen",
            value: aiSummary.last_seen || "N/A",
          });
        }

        if (aiSummary.resource) {
          timeline.push({
            label: "Impacted resource",
            value: aiSummary.resource,
          });
        }

        if (timeline.length === 0) {
          timeline.push(
            {
              label: "Finding created",
              value: "Timestamp not provided",
            },
            {
              label: "Analyzed by AI Lambda",
              value: "Context and remediation suggestions generated",
            }
          );
        }

        return (
          <div className="modal-backdrop" onClick={onClose}>
            <div className="modal-card" onClick={(e) => e.stopPropagation()}>
              <div
                style={{
                  display: "flex",
                  justifyContent: "space-between",
                  alignItems: "flex-start",
                  marginBottom: "1rem",
                }}
              >
                <div>
                  <div
                    style={{
                      fontSize: "0.75rem",
                      color: "#9ca3af",
                      marginBottom: "0.25rem",
                    }}
                  >
                    GuardDuty Finding
                  </div>
                  <h3
                    style={{
                      fontSize: "1.2rem",
                      fontWeight: 600,
                      margin: 0,
                    }}
                  >
                    {finding_id}
                  </h3>
                </div>
                <div style={{ textAlign: "right" }}>
                  <span className={badgeClass}>{severity}</span>
                  <div
                    style={{
                      fontSize: "0.75rem",
                      color: "#9ca3af",
                      marginTop: "0.3rem",
                    }}
                  >
                    AI severity rating
                  </div>
                </div>
              </div>

              <div
                style={{
                  display: "grid",
                  gridTemplateColumns: "minmax(0,1.4fr) minmax(0,1.1fr)",
                  gap: "1.5rem",
                }}
              >
                <div>
                  <div
                    style={{
                      fontSize: "0.8rem",
                      color: "#9ca3af",
                      marginBottom: "0.35rem",
                    }}
                  >
                    Summary
                  </div>
                  <p
                    style={{
                      fontSize: "0.9rem",
                      color: "#e5e7eb",
                      marginTop: 0,
                    }}
                  >
                    {aiSummary.summary ||
                      aiSummary.root_cause ||
                      "No AI summary provided."}
                  </p>

                  {aiSummary.recommended_remediation && (
                    <>
                      <div
                        style={{
                          fontSize: "0.8rem",
                          color: "#9ca3af",
                          marginBottom: "0.35rem",
                          marginTop: "0.75rem",
                        }}
                      >
                        Recommended remediation
                      </div>
                      <p
                        style={{
                          fontSize: "0.9rem",
                          color: "#e5e7eb",
                          marginTop: 0,
                        }}
                      >
                        {aiSummary.recommended_remediation}
                      </p>
                    </>
                  )}

                  {typeof aiSummary.escalation_needed === "boolean" && (
                    <div
                      style={{
                        fontSize: "0.8rem",
                        marginTop: "0.75rem",
                        color: aiSummary.escalation_needed
                          ? "#fecaca"
                          : "#bbf7d0",
                      }}
                    >
                      {aiSummary.escalation_needed
                        ? "Escalation suggested for security team."
                        : "No escalation required; monitor under existing guardrails."}
                    </div>
                  )}
                </div>

                <div>
                  <div
                    style={{
                      fontSize: "0.8rem",
                      color: "#9ca3af",
                      marginBottom: "0.35rem",
                    }}
                  >
                    CloudTrail-style timeline
                  </div>
                  <ul className="timeline">
                    {timeline.map((ev, idx) => (
                      <li key={idx} className="timeline-item">
                        <div className="timeline-bullet" />
                        <div
                          style={{
                            fontSize: "0.8rem",
                            color: "#e5e7eb",
                            marginLeft: "0.75rem",
                          }}
                        >
                          <div
                            style={{
                              fontWeight: 600,
                              marginBottom: "0.1rem",
                            }}
                          >
                            {ev.label}
                          </div>
                          <div style={{ color: "#9ca3af" }}>{ev.value}</div>
                        </div>
                      </li>
                    ))}
                  </ul>
                </div>
              </div>

              <div
                style={{
                  display: "flex",
                  justifyContent: "flex-end",
                  marginTop: "1.25rem",
                }}
              >
                <button
                  onClick={onClose}
                  style={{
                    borderRadius: "999px",
                    border: "1px solid #374151",
                    backgroundColor: "#020617",
                    color: "#e5e7eb",
                    padding: "0.4rem 0.95rem",
                    fontSize: "0.82rem",
                    cursor: "pointer",
                  }}
                >
                  Close
                </button>
              </div>
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
